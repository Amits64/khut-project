<!DOCTYPE html>
<html lang="en">
<head>
  <script src="naturalSort.js" type="text/javascript"></script>
  <script>
    function naturalSort(a, b) {
      var re = /(-?[0-9\.]+)/g;
      var x = (a.toString().toLowerCase() || '');
      var y = (b.toString().toLowerCase() || '');
      var nC = String.fromCharCode(0);
      var xN = x.replace(re, nC + '$1' + nC).split(nC);
      var yN = y.replace(re, nC + '$1' + nC).split(nC);
      var xD = (new Date(x)).getTime();
      var yD = xD ? (new Date(y)).getTime() : null;
      
      var xNcL, yNcL, xFxNcL, yFyNcL;

      if (yD) {
        if (xD < yD) return -1;
        else if (xD > yD) return 1;
      }

      for (var cLoc = 0, numS = Math.max(xN.length, yN.length); cLoc < numS; cLoc++) {
        xNcL = parseFloat(xN[cLoc]) || xN[cLoc];
        yNcL = parseFloat(yN[cLoc]) || yN[cLoc];
        if (xNcL < yNcL) return -1;
        else if (xNcL > yNcL) return 1;
      }
      return 0;
    }

    var a = [], b = [];
    for (var i = 0; i < 1000; i++) {
      a.push(String.fromCharCode(Math.floor(Math.random() * (90 - 66)) + 65, Math.floor(Math.random() * (90 - 66)) + 65, Math.floor(Math.random() * (90 - 66)) + 65));
      b.push(String.fromCharCode(Math.floor(Math.random() * (90 - 66)) + 65, Math.floor(Math.random() * (90 - 66)) + 65, Math.floor(Math.random() * (90 - 66)) + 65));
    }

    var d = new Date();
    document.write(a.sort(naturalSort)[0] + ' <BR>[' + ((new Date()).getTime() - d.getTime()) + 'ms]<BR><BR>');
  </script>
  <style>
    * {
      font-family: Helvetica, Arial, Verdana, Tahoma, sans-serif;
      font-size: 9px;
    }
  </style>
</head>
<body></body>
</html>
